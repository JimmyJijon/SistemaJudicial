

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - SistemaGestionJudicial</title>
    <script type="importmap"></script>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/SistemaGestionJudicial.styles.css" asp-append-version="true" />
    @RenderSection("Styles", required: false)
</head>
<body class="min-h-screen flex flex-col">


    @{
        // ⚙️ Obtén el rol desde sesión
        var rolUsuario = Context.Session.GetInt32("RolUsuario");

    }

    <div class="flex flex-1 overflow-hidden">
        <div class="sidebar bg-blue-900 text-white w-64 flex-shrink-0 no-print">
            <div class="p-4 border-b border-blue-800">
                <h1 class="text-xl font-bold flex items-center">
                    <i class="fas fa-balance-scale mr-2"></i>
                    Judicial System
                </h1>
                <p class="text-blue-200 text-sm mt-1">Management Portal</p>
            </div>

            <nav class="mt-4">
                @* ✅ JUEZ: menú completo + reports *@
                @if (rolUsuario == 1)
                {
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Main</div>
                    <a asp-area="" asp-controller="Dashboard" asp-action="Index" class="flex items-center px-4 py-3 text-white hover:bg-blue-800 active-tab">
                        <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                    </a>

                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Case Management</div>
                    <a href="/Persona/Index"
                       class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-pie mr-3"></i>
                        Personas
                    </a>
                    <a href="/Role/Index"
                       class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-pie mr-3"></i>
                        Roles
                    </a>

                    <a href="/Home/Delincuentes" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-user-shield mr-3"></i> Offenders
                    </a>
                    <a href="/Home/Crimenes" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-gavel mr-3"></i> Crimes
                    </a>
                    <a href="/Police/Polices" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-shield-alt mr-3"></i> Partes Policiales
                    </a>
                    <a href="/Juicios/Index" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-folder-open mr-3"></i> Juicios
                    </a>
                    <a href="/Home/Casos" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-folder-open mr-3"></i> Denuncia
                    </a>

                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Personnel</div>
                    <a href="/Home/Jueces" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-user-tie mr-3"></i> Judges
                    </a>
                    <a href="/Fiscales/Fiscales" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-user-ninja mr-3"></i> Prosecutors
                    </a>
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Reports</div>
                    <a href="/Home/CrimeReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-bar mr-3"></i> Crime Reports
                    </a>
                    <a href="/Home/CaseReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-pie mr-3"></i> Case Reports
                    </a>
                }

                @* ✅ DENUNCIANTE: solo Reports *@
                @if (rolUsuario == 4)
                {
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Main</div>
                    <a asp-area="" asp-controller="Dashboard" asp-action="Index" class="flex items-center px-4 py-3 text-white hover:bg-blue-800 active-tab">
                        <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                    </a>
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Case Management</div>

                    <a class="flex items-center px-4 py-3 text-white hover:bg-blue-800"
                       asp-controller="IngresarDenuncia" asp-action="CrearDenuncia">
                        <i class="fas fa-user-shield mr-3"></i>
                        Realizar Denuncia
                    </a>
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Reports</div>
                    <a href="/Home/CrimeReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-bar mr-3"></i> Crime Reports
                    </a>
                    <a href="/Home/CaseReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-pie mr-3"></i> Case Reports
                    </a>
                }

                @* ✅ POLICÍA: Polices + Cases + Reports *@
                @if (rolUsuario == 5)
                {
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Main</div>
                    <a asp-area="" asp-controller="Dashboard" asp-action="Index" class="flex items-center px-4 py-3 text-white hover:bg-blue-800 active-tab">
                        <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                    </a>
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Case Management</div>
                    <a href="/Police/Polices" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-shield-alt mr-3"></i> Partes Policiales
                    </a>
                    <a href="/Home/Casos" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-folder-open mr-3"></i> Cases
                    </a>
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Reports</div>
                    <a href="/Home/CrimeReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-bar mr-3"></i> Crime Reports
                    </a>
                    <a href="/Home/CaseReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-pie mr-3"></i> Case Reports
                    </a>
                }

                @* ✅ FISCAL: Polices + Juicios + Cases + Fiscal + Reports *@
                @if (rolUsuario == 2)
                {
                    <a href="/Police/Polices" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-shield-alt mr-3"></i> Partes Policiales
                    </a>
                    <a href="/Juicios/Index" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-folder-open mr-3"></i> Juicios
                    </a>
                    <a href="/Home/Casos" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-folder-open mr-3"></i> Cases
                    </a>
                    <a href="/Fiscales/Fiscales" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-user-ninja mr-3"></i> Prosecutors
                    </a>
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Reports</div>
                    <a href="/Home/CrimeReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-bar mr-3"></i> Crime Reports
                    </a>
                    <a href="/Home/CaseReports" class="flex items-center px-4 py-3 text-white hover:bg-blue-800">
                        <i class="fas fa-chart-pie mr-3"></i> Case Reports
                    </a>
                }

                @* ✅ Si no coincide ningún rol: mensaje genérico *@
                @if (rolUsuario != 1 && rolUsuario != 2 && rolUsuario != 4 && rolUsuario != 5)
                {
                    <div class="px-4 py-2 text-blue-300 uppercase text-xs font-semibold tracking-wider">Bienvenido</div>
                    <p class="px-4 py-3 text-white">Selecciona una opción disponible</p>
                }
            </nav>
        </div>

        <div class="flex-1 overflow-auto flex flex-col">
            <main role="main" class="flex-1 pb-3">
                @RenderBody()
            </main>
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
